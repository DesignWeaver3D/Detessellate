# SketchReProfile

<img width="128" height="128" alt="SketchReProfile" src="https://github.com/user-attachments/assets/5514da80-90c7-44d6-8ce1-f57f8b835790" />


**SketchReProfile** is a FreeCAD macro that reconstructs clean sketch geometry â€” circles, arcs, B-splines, and lines â€” from tessellated construction edges. Itâ€™s optimized for post-processing sketches generated by the **CoplanarSketch** macro, using deterministic logic and minimal user input to recover intended geometric features from mesh-derived data.

### ðŸ” Features

- **Circle Detection**: Equilateral polygon â†’ circumcircle with radius constraint  
- **Arc Fitting**: Partial equilateral polygon â†’ proper arcs  
- **Spline Generation**: Smooth angular transitions â†’ interpolating B-splines  
- **Line Simplification**: Colinear segments â†’ single lines  
- **Topology Repair**: Endpoint constraints and edge toggling for wire integrity  
- **One-Click Operation**: No dialogs, no manual selection, rollback-safe

### âš™ï¸ Requirements

- FreeCAD **v1.0.2 stable**  
- Windows (tested)  
- Sketcher Workbench  
- Python 3 with NumPy (typically bundled)

### ðŸ“¦ Alternative Installation
This macro is bundled with the Detessellate Workbench, but can also be manually installed separately.

1. Place `SketchReProfile.py` in your FreeCAD macros directory  
2. Restart FreeCAD or refresh the macro list

## ðŸ“œ Changelog
- **v2.0.0** (2026-01-18) - Massive optimization to quickly handle > 500 edge sketches in less 1 sec.
- **v1.0.0** (2025-11-29) - Initial concept. Stable for sketches < 150 edges. 
